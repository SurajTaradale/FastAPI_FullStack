{"ast":null,"code":"import apiClient from '../api/api';\nimport Cookies from 'js-cookie';\nexport const login = async (username, password) => {\n  try {\n    const response = await apiClient.post('/auth/token', new URLSearchParams({\n      username,\n      password\n    }), {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    const {\n      token\n    } = response.data;\n    Cookies.set('token', token, {\n      expires: 1,\n      secure: true,\n      sameSite: 'Strict'\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    throw new Error('Login failed: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message));\n  }\n};","map":{"version":3,"names":["apiClient","Cookies","login","username","password","response","post","URLSearchParams","headers","token","data","set","expires","secure","sameSite","error","_error$response","_error$response$data","Error","message"],"sources":["/opt/FastAPI_FullStack/itsm/frontend/src/services/AuthService.js"],"sourcesContent":["import apiClient from '../api/api';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport const login = async (username, password) => {\r\n  try {\r\n    const response = await apiClient.post(\r\n      '/auth/token',\r\n      new URLSearchParams({\r\n        username,\r\n        password,\r\n      }),\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n        },\r\n      }\r\n    );\r\n\r\n    const { token } = response.data;\r\n    Cookies.set('token', token, {\r\n      expires: 1,\r\n      secure: true,\r\n      sameSite: 'Strict',\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error(\r\n      'Login failed: ' + (error.response?.data?.message || error.message)\r\n    );\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,YAAY;AAClC,OAAOC,OAAO,MAAM,WAAW;AAE/B,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACjD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,SAAS,CAACM,IAAI,CACnC,aAAa,EACb,IAAIC,eAAe,CAAC;MAClBJ,QAAQ;MACRC;IACF,CAAC,CAAC,EACF;MACEI,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CACF,CAAC;IAED,MAAM;MAAEC;IAAM,CAAC,GAAGJ,QAAQ,CAACK,IAAI;IAC/BT,OAAO,CAACU,GAAG,CAAC,OAAO,EAAEF,KAAK,EAAE;MAC1BG,OAAO,EAAE,CAAC;MACVC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE;IACZ,CAAC,CAAC;IAEF,OAAOT,QAAQ,CAACK,IAAI;EACtB,CAAC,CAAC,OAAOK,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACd,MAAM,IAAIC,KAAK,CACb,gBAAgB,IAAI,EAAAF,eAAA,GAAAD,KAAK,CAACV,QAAQ,cAAAW,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBN,IAAI,cAAAO,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAIJ,KAAK,CAACI,OAAO,CACpE,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}