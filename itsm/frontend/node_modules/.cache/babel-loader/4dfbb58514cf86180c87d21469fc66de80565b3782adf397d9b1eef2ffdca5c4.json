{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'js-cookie';\nconst apiClient = axios.create({\n  baseURL: 'http://192.168.1.8:8001' // Update with your base URL\n});\napiClient.interceptors.request.use(config => {\n  const token = Cookies.get('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nexport const loginApi = async (username, password) => {\n  const response = await apiClient.post('/auth/token', new URLSearchParams({\n    username,\n    password\n  }));\n  Cookies.set('token', response.data.access_token);\n  return response.data;\n};\nexport default apiClient;","map":{"version":3,"names":["axios","Cookies","apiClient","create","baseURL","interceptors","request","use","config","token","get","headers","Authorization","loginApi","username","password","response","post","URLSearchParams","set","data","access_token"],"sources":["/opt/FastAPI_FullStack/itsm/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: 'http://192.168.1.8:8001', // Update with your base URL\r\n});\r\n\r\napiClient.interceptors.request.use((config) => {\r\n  const token = Cookies.get('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport const loginApi = async (username, password) => {\r\n  const response = await apiClient.post(\r\n    '/auth/token',\r\n    new URLSearchParams({ username, password })\r\n  );\r\n  Cookies.set('token', response.data.access_token);\r\n  return response.data;\r\n};\r\n\r\nexport default apiClient;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAE/B,MAAMC,SAAS,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC7BC,OAAO,EAAE,yBAAyB,CAAE;AACtC,CAAC,CAAC;AAEFF,SAAS,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC7C,MAAMC,KAAK,GAAGR,OAAO,CAACS,GAAG,CAAC,OAAO,CAAC;EAClC,IAAID,KAAK,EAAE;IACTD,MAAM,CAACG,OAAO,CAACC,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;AAEF,OAAO,MAAMK,QAAQ,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACpD,MAAMC,QAAQ,GAAG,MAAMd,SAAS,CAACe,IAAI,CACnC,aAAa,EACb,IAAIC,eAAe,CAAC;IAAEJ,QAAQ;IAAEC;EAAS,CAAC,CAC5C,CAAC;EACDd,OAAO,CAACkB,GAAG,CAAC,OAAO,EAAEH,QAAQ,CAACI,IAAI,CAACC,YAAY,CAAC;EAChD,OAAOL,QAAQ,CAACI,IAAI;AACtB,CAAC;AAED,eAAelB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}